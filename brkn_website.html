<!DOCTYPE html>
<html data-wf-domain="www.brkn.com" data-wf-page="6749c353ea66c1921c71d945" data-wf-site="6749c352ea66c1921c71d8b8" lang="en">
<head>
<meta charset="utf-8">
<title>BRKN</title>
<meta content="BRKN SPECIALIZES IN COMMERCIAL PRINT/MOTION CAMPAIGNS AND CONTENT FOR MAJOR STUDIOS, GLOBAL BRANDS, AND WORLD CLASS AGENCIES FROM ACROSS THE GLOBE" name="description">
<meta content="BRKN" property="og:title">
<meta content="BRKN SPECIALIZES IN COMMERCIAL PRINT/MOTION CAMPAIGNS AND CONTENT FOR MAJOR STUDIOS, GLOBAL BRANDS, AND WORLD CLASS AGENCIES FROM ACROSS THE GLOBE" property="og:description">
<meta content="BRKN" property="twitter:title">
<meta content="BRKN SPECIALIZES IN COMMERCIAL PRINT/MOTION CAMPAIGNS AND CONTENT FOR MAJOR STUDIOS, GLOBAL BRANDS, AND WORLD CLASS AGENCIES FROM ACROSS THE GLOBE" property="twitter:description">
<meta property="og:type" content="website">
<meta content="summary_large_image" name="twitter:card">
<meta content="width=device-width, initial-scale=1" name="viewport">

<style>
/* Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Arial', sans-serif;
    background-color: #000;
    color: #fff;
    overflow-x: hidden;
}

/* Loader Styles */
#loader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    transition: opacity 1s ease, visibility 1s ease;
}

#loader.fade-out {
    opacity: 0;
    visibility: hidden;
}

.logo-container {
    position: relative;
    animation: logoEntrance 2s ease-out;
}

.logo-image {
    width: 300px;
    height: auto;
    max-width: 90vw;
    opacity: 0;
    animation: fadeInLogo 1.5s ease-out 0.5s forwards;
    object-fit: contain;
}

@keyframes logoEntrance {
    0% {
        transform: scale(0.3) rotate(-10deg);
        opacity: 0;
    }
    50% {
        transform: scale(1.1) rotate(2deg);
        opacity: 0.8;
    }
    100% {
        transform: scale(1) rotate(0deg);
        opacity: 1;
    }
}

@keyframes fadeInLogo {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Header Styles */
.header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    padding: 20px 40px;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(10px);
    z-index: 1000;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.brand-logo {
    font-size: 24px;
    font-weight: bold;
    color: #fff;
    text-decoration: none;
    letter-spacing: 2px;
}

.nav-links {
    display: flex;
    gap: 30px;
}

.nav-links a {
    color: #fff;
    text-decoration: none;
    font-size: 16px;
    transition: opacity 0.3s ease;
}

.nav-links a:hover {
    opacity: 0.7;
}

/* Main Content */
.main-content {
    min-height: 100vh;
    padding-top: 100px;
    display: flex;
    flex-direction: column;
    position: relative;
}

.hero-title {
    position: absolute;
    top: 120px;
    left: 0;
    right: 0;
    z-index: 10;
    display: flex;
    justify-content: space-between;
    padding: 0 40px;
    font-size: clamp(2rem, 4vw, 4rem);
    font-weight: 900;
    line-height: 1.1;
    letter-spacing: -0.02em;
}

.title-left {
    text-align: left;
}

.title-right {
    text-align: right;
}

/* Products Horizontal Scroller */
.products-section {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 200px 0 100px;
}

.products-scroller {
    width: 100%;
    max-width: 1400px;
    position: relative;
}

.product-slider {
    position: relative;
    width: 100%;
    height: 60vh;
    min-height: 500px;
    overflow: hidden;
}

.product-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transform: translateX(100%);
    transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    align-items: center;
    justify-content: center;
}

.product-slide.active {
    opacity: 1;
    transform: translateX(0);
}

.product-slide.prev {
    transform: translateX(-100%);
    opacity: 0;
}

.product-images {
    display: flex;
    align-items: center;
    gap: 30px;
    width: 100%;
    max-width: 1200px;
    padding: 0 40px;
}

.product-image-left,
.product-image-right {
    flex: 1;
    max-width: 300px;
}

.product-image-center {
    flex: 2;
    max-width: 500px;
    position: relative;
    z-index: 2;
}

.product-image-left img,
.product-image-center img,
.product-image-right img {
    width: 100%;
    height: auto;
    object-fit: cover;
    border-radius: 8px;
    transition: transform 0.3s ease;
}

.product-image-left {
    transform: rotate(-5deg) translateY(20px);
}

.product-image-right {
    transform: rotate(5deg) translateY(-20px);
}

.product-slide:hover .product-image-left img {
    transform: scale(1.05);
}

.product-slide:hover .product-image-center img {
    transform: scale(1.02);
}

.product-slide:hover .product-image-right img {
    transform: scale(1.05);
}

/* Product Navigation */
.product-nav {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 40px;
}

.product-pagination {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 18px;
    font-weight: 300;
}

.current-slide {
    font-weight: 600;
}

.divider {
    opacity: 0.5;
}

.product-slider {
    position: relative;
    width: 100%;
    height: 60vh;
    min-height: 500px;
    overflow: hidden;
    cursor: grab;
    user-select: none;
}

.product-slider:active {
    cursor: grabbing;
}

.product-slider.dragging {
    cursor: grabbing;
}

/* Subtle hint for interactivity */
.product-slider::after {
    content: 'Scroll or drag to navigate';
    position: absolute;
    bottom: 20px;
    right: 20px;
    font-size: 12px;
    opacity: 0.4;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.product-slider:hover::after {
    opacity: 0.7;
}

/* Product Names Scroller */
.product-names-scroller {
    position: absolute;
    bottom: -80px;
    left: 0;
    right: 0;
    height: 60px;
    overflow: hidden;
}

.product-names {
    display: flex;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    height: 100%;
    align-items: center;
}

.product-name {
    font-size: clamp(2rem, 6vw, 6rem);
    font-weight: 900;
    letter-spacing: 2px;
    white-space: nowrap;
    margin-right: 100px;
    opacity: 0.3;
    transition: opacity 0.3s ease;
    cursor: pointer;
}

.product-name.active {
    opacity: 1;
}

.product-name:hover {
    opacity: 0.7;
}

/* Loading State */
.loading-state {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    font-size: 18px;
    opacity: 0.7;
}

.loading-state p {
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 1; }
}

/* Admin Access */
.admin-access {
    position: absolute;
    top: 20px;
    right: 20px;
    z-index: 10;
}

.admin-link {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.3);
    color: #fff;
    padding: 8px 16px;
    text-decoration: none;
    font-size: 12px;
    opacity: 0.7;
    transition: all 0.3s ease;
}

.admin-link:hover {
    opacity: 1;
    background: rgba(255, 255, 255, 0.2);
}

/* Product Info Styles */
.product-info h3 {
    margin-bottom: 15px;
    font-size: 1.5rem;
}

.product-description {
    opacity: 0.8;
    line-height: 1.6;
    font-size: 14px;
    max-width: 400px;
    margin: 0 auto;
}

/* Empty State */
.empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    text-align: center;
    opacity: 0.7;
}

.empty-state h3 {
    margin-bottom: 10px;
    font-size: 24px;
}

.empty-state p {
    margin-bottom: 20px;
}

.empty-state a {
    color: #fff;
    text-decoration: underline;
}

/* About Section - Updated Layout */
.about-section {
    padding: 80px 40px;
    background: #000;
    position: relative;
    overflow: hidden;
}

.about-container {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    z-index: 1;
}

.about-header {
    text-align: center;
    margin-bottom: 60px;
}

.about-title {
    font-size: clamp(3rem, 8vw, 6rem);
    font-weight: 900;
    letter-spacing: -0.02em;
    margin-bottom: 20px;
    background: linear-gradient(45deg, #fff, #ccc);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.about-subtitle {
    font-size: clamp(1.2rem, 3vw, 1.8rem);
    opacity: 0.8;
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.4;
}

/* New Two-Column Layout */
.about-main-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: start;
}

/* About Content - Left Side */
.about-content {
    display: flex;
    flex-direction: column;
    gap: 40px;
}

.about-text {
    font-size: 16px;
    line-height: 1.7;
    opacity: 0.9;
}

.about-text h3 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #fff;
}

.about-text p {
    margin-bottom: 20px;
}

.about-stats {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.stat-item {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    padding: 25px 15px;
    text-align: center;
    border-radius: 8px;
    transition: transform 0.3s ease, background 0.3s ease;
}

.stat-item:hover {
    transform: translateY(-5px);
    background: rgba(255, 255, 255, 0.08);
}

.stat-number {
    font-size: 36px;
    font-weight: 900;
    margin-bottom: 8px;
    background: linear-gradient(45deg, #fff, #ccc);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.stat-label {
    font-size: 12px;
    opacity: 0.7;
    text-transform: uppercase;
    letter-spacing: 1px;
}

/* Contact Section - Right Side */
.contact-section {
    background: #000;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 40px;
    text-align: center;
    position: relative;
    height: fit-content;
}

.contact-title {
    font-size: 32px;
    font-weight: 700;
    margin-bottom: 30px;
    background: linear-gradient(45deg, #fff, #ccc);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.contact-info {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.contact-item {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
    padding: 15px 25px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    transition: all 0.3s ease;
}

.contact-item:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
}

.contact-icon {
    font-size: 18px;
    opacity: 0.8;
}

.contact-text {
    font-size: 16px;
    font-weight: 500;
}

/* Responsive Updates */
@media (max-width: 968px) {
    .about-main-content {
        grid-template-columns: 1fr;
        gap: 50px;
    }
    
    .about-content {
        order: 1;
    }
    
    .contact-section {
        order: 2;
    }
    
    .about-stats {
        grid-template-columns: 1fr 1fr;
    }
}

@media (max-width: 768px) {
    .about-section {
        padding: 60px 20px;
    }
    
    .about-stats {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .contact-section {
        padding: 30px 20px;
    }
    
    .contact-info {
        gap: 15px;
    }
    
    .contact-item {
        padding: 12px 20px;
    }
}

/* Terms and Conditions Section */
.terms-section {
    padding: 80px 40px;
    background: #000;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.terms-container {
    max-width: 1200px;
    margin: 0 auto;
}

.terms-header {
    text-align: center;
    margin-bottom: 60px;
}

.terms-title {
    font-size: clamp(3rem, 8vw, 5rem);
    font-weight: 900;
    letter-spacing: -0.02em;
    margin-bottom: 20px;
    background: linear-gradient(45deg, #fff, #ccc);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.terms-content {
    display: grid;
    grid-template-columns: 1fr;
    gap: 40px;
}

.terms-category {
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    padding: 30px;
    transition: all 0.3s ease;
}

.terms-category:hover {
    background: rgba(255, 255, 255, 0.04);
    border-color: rgba(255, 255, 255, 0.2);
}

.terms-category h3 {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #fff;
}

.terms-category p {
    font-size: 15px;
    line-height: 1.8;
    opacity: 0.85;
    margin-bottom: 15px;
}

.terms-category ul {
    list-style: none;
    padding-left: 0;
    margin-top: 15px;
}

.terms-category li {
    padding: 10px 0;
    padding-left: 25px;
    position: relative;
    font-size: 15px;
    line-height: 1.6;
    opacity: 0.85;
}

.terms-category li::before {
    content: '‚Üí';
    position: absolute;
    left: 0;
    color: rgba(255, 255, 255, 0.5);
}

.terms-category strong {
    color: #fff;
    opacity: 1;
}

.terms-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-top: 20px;
}

.terms-highlight {
    background: rgba(255, 255, 255, 0.05);
    border-left: 3px solid rgba(255, 255, 255, 0.3);
    padding: 20px;
    margin: 20px 0;
    border-radius: 4px;
}

@media (max-width: 968px) {
    .terms-grid {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {
    .terms-section {
        padding: 60px 20px;
    }
}

/* Footer */
.footer {
    padding: 50px 40px;
    text-align: center;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(0, 0, 0, 0.5);
}

.footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
}

.footer-links {
    display: flex;
    gap: 30px;
}

.footer-links a {
    color: #fff;
    text-decoration: none;
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.footer-links a:hover {
    opacity: 1;
}

/* Admin Access Responsive */
@media (max-width: 768px) {
    .admin-access {
        top: 10px;
        right: 10px;
    }
    
    .admin-link {
        padding: 6px 12px;
        font-size: 11px;
    }
    
    .header {
        padding: 15px 20px;
    }
    
    .nav-links {
        gap: 20px;
    }
    
    .main-content {
        padding: 80px 20px;
    }
    
    .hero-title {
        position: static;
        flex-direction: column;
        text-align: center;
        gap: 20px;
        margin-bottom: 40px;
        font-size: clamp(1.5rem, 6vw, 3rem);
    }
    
    .products-section {
        padding: 100px 0 50px;
    }
    
    .product-images {
        flex-direction: column;
        gap: 20px;
        padding: 0 20px;
    }
    
    .product-image-left,
    .product-image-right {
        max-width: 250px;
        transform: none;
    }
    
    .product-image-center {
        max-width: 300px;
        order: -1;
    }
    
    .product-slider {
        height: 70vh;
        min-height: 600px;
    }
    
    .product-nav {
        margin-top: 30px;
    }
    
    .product-names-scroller {
        bottom: -60px;
    }
    
    .product-name {
        font-size: clamp(1.5rem, 8vw, 3rem);
        margin-right: 50px;
    }
    
    .footer-content {
        flex-direction: column;
        text-align: center;
    }
    
    .logo-image {
        width: 250px;
        max-width: 80vw;
    }
}

@media (max-width: 480px) {
    .nav-links {
        display: none;
    }
    
    .hero-title {
        font-size: clamp(1.2rem, 5vw, 2rem);
    }
    
    .product-images {
        padding: 0 10px;
    }
    
    .product-image-center {
        max-width: 280px;
    }
    
    .product-image-left,
    .product-image-right {
        max-width: 200px;
    }
    
    .logo-image {
        width: 200px;
        max-width: 75vw;
    }
    
    .product-slider::after {
        content: 'Swipe to navigate';
        bottom: 15px;
        right: 15px;
        font-size: 10px;
    }
}

/* Shopping Cart Styles */
.cart-icon-wrapper {
    position: relative;
    cursor: pointer;
}

.cart-icon {
    font-size: 24px;
    color: #fff;
    transition: transform 0.3s ease;
}

.cart-icon:hover {
    transform: scale(1.1);
}

.cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #fff;
    color: #000;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
}

.cart-sidebar {
    position: fixed;
    top: 0;
    right: -400px;
    width: 400px;
    height: 100vh;
    background: #000;
    border-left: 1px solid rgba(255, 255, 255, 0.1);
    z-index: 10000;
    transition: right 0.3s ease;
    display: flex;
    flex-direction: column;
}

.cart-sidebar.open {
    right: 0;
}

.cart-header {
    padding: 30px 20px 20px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.cart-title {
    font-size: 24px;
    font-weight: 700;
}

.cart-close {
    background: none;
    border: none;
    color: #fff;
    font-size: 24px;
    cursor: pointer;
    padding: 5px 10px;
    transition: opacity 0.3s ease;
}

.cart-close:hover {
    opacity: 0.7;
}

.cart-items {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
}

.cart-item {
    display: flex;
    gap: 15px;
    padding: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    margin-bottom: 15px;
    background: rgba(255, 255, 255, 0.02);
}

.cart-item-image {
    width: 80px;
    height: 80px;
    object-fit: cover;
    border-radius: 4px;
}

.cart-item-details {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.cart-item-name {
    font-weight: 600;
    font-size: 16px;
}

.cart-item-price {
    color: rgba(255, 255, 255, 0.7);
    font-size: 14px;
}

.cart-item-quantity {
    display: flex;
    align-items: center;
    gap: 10px;
}

.quantity-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: #fff;
    width: 24px;
    height: 24px;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.quantity-btn:hover {
    background: rgba(255, 255, 255, 0.2);
}

.quantity-value {
    font-size: 14px;
    min-width: 20px;
    text-align: center;
}

.remove-item {
    background: none;
    border: none;
    color: #ff3b30;
    cursor: pointer;
    font-size: 12px;
    text-decoration: underline;
    padding: 0;
    margin-top: 5px;
    transition: opacity 0.3s ease;
}

.remove-item:hover {
    opacity: 0.7;
}

.cart-footer {
    padding: 20px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.cart-total {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    font-size: 20px;
    font-weight: 700;
}

.checkout-btn {
    width: 100%;
    padding: 16px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    color: #fff;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.checkout-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
}

.cart-empty {
    text-align: center;
    padding: 60px 20px;
    opacity: 0.6;
}

.cart-empty-icon {
    font-size: 48px;
    margin-bottom: 15px;
}

.cart-empty p {
    font-size: 16px;
}

.cart-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: rgba(0, 0, 0, 0.7);
    z-index: 9999;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.cart-overlay.open {
    opacity: 1;
    visibility: visible;
}

.add-to-cart-btn {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 8px;
    padding: 12px 24px;
    color: #fff;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 15px;
}

.add-to-cart-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 30px rgba(255, 255, 255, 0.15);
    border-color: rgba(255, 255, 255, 0.3);
}

.add-to-cart-btn.added {
    background: linear-gradient(135deg, rgba(52, 199, 89, 0.2), rgba(52, 199, 89, 0.1));
    border-color: rgba(52, 199, 89, 0.4);
}

@media (max-width: 480px) {
    .cart-sidebar {
        width: 100%;
        right: -100%;
    }
}
</style>
</head>

<body>
    <!-- Loader with BRKN Logo -->
    <div id="loader">
        <div class="logo-container">
            <img src="brkn logo.jpeg" alt="BRKN Logo" class="logo-image">
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <a href="#" class="brand-logo">BRKN</a>
        <nav class="nav-links">
            <a href="#products">Products</a>
            <a href="#about">About</a>
            <a href="#terms">Terms</a>
            <a href="#contact">Contact</a>
            <a href="login.html">Account</a>
            <div class="cart-icon-wrapper" id="cartIcon">
                <span class="cart-icon">üõí</span>
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </nav>
    </header>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay"></div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2 class="cart-title">Shopping Cart</h2>
            <button class="cart-close" id="cartClose">&times;</button>
        </div>
        <div class="cart-items" id="cartItemsContainer">
            <!-- Cart items will be dynamically added here -->
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">$0.00</span>
            </div>
            <button class="checkout-btn" id="checkoutBtn">Proceed to Checkout</button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <h1 class="hero-title">
            <span class="title-left">STRATEGIC THINKERS.<br>SMART STRATEGY.</span>
            <span class="title-right">THOUGHTFUL EXECUTION.<br>BOLD BRANDS.</span>
        </h1>
        
        <!-- Horizontal Product Scroller -->
        <section class="products-section" id="products">
            <div class="products-scroller">
                <div class="product-slider" id="productSlider">
                    <!-- Products will be dynamically loaded here -->
                    <div class="loading-state">
                        <p>Loading products...</p>
                    </div>
                </div>
                
                <!-- Product Navigation -->
                <div class="product-nav">
                    <div class="product-pagination">
                        <span class="current-slide">01</span>
                        <span class="divider">//</span>
                        <span class="total-slides">00</span>
                    </div>
                </div>
                
                
                <!-- Product Names Scroller -->
                <div class="product-names-scroller">
                    <div class="product-names" id="productNames">
                        <!-- Product names will be dynamically loaded here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- About Section with New Layout -->
    <section class="about-section" id="about">
        <div class="about-container">
            <div class="about-header">
                <h2 class="about-title">ABOUT BRKN</h2>
                <p class="about-subtitle">
                    We break conventional boundaries to create extraordinary brand experiences that resonate globally.
                </p>
            </div>

            <div class="about-main-content">
                <!-- About Content - Left Side -->
                <div class="about-content">
                    <div class="about-text">
                        <h3>Our Story</h3>
                        <p>
                            Founded in 2019, BRKN emerged from a simple belief: the most powerful brands are those that dare to break from convention. We're a collective of strategic thinkers and creative visionaries who understand that being different isn't just an advantage‚Äîit's essential.
                        </p>
                        <p>
                            From our Los Angeles headquarters, we've partnered with major studios, Fortune 500 companies, and world-class agencies to craft campaigns that command attention across print, motion, digital, and experiential mediums.
                        </p>
                    </div>

                    <div class="about-stats">
                        <div class="stat-item">
                            <div class="stat-number">150+</div>
                            <div class="stat-label">Global Campaigns</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">50+</div>
                            <div class="stat-label">Major Brands</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">25+</div>
                            <div class="stat-label">Industry Awards</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">5</div>
                            <div class="stat-label">Years of Excellence</div>
                        </div>
                    </div>
                </div>

                <!-- Contact Section - Right Side -->
                <div class="contact-section" id="contact">
                    <h3 class="contact-title">Get In Touch</h3>
                    <div class="contact-info">
                        <div class="contact-item">
                            <span class="contact-icon">‚úâÔ∏è</span>
                            <span class="contact-text">hello@brkn.com</span>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üìç</span>
                            <span class="contact-text">Los Angeles, CA</span>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üì±</span>
                            <span class="contact-text">+1 (555) 123-4567</span>
                        </div>
                        <div class="contact-item">
                            <span class="contact-icon">üåê</span>
                            <span class="contact-text">www.brkn.com</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Terms and Conditions Section -->
    <section class="terms-section" id="terms">
        <div class="terms-container">
            <div class="terms-header">
                <h2 class="terms-title">Terms & Conditions</h2>
            </div>

            <div class="terms-content">
                <!-- Shipping & Delivery -->
                <div class="terms-category">
                    <h3>Shipping & Delivery</h3>
                    <p>We are committed to delivering your BRKN products safely and on time.</p>

                    <div class="terms-highlight">
                        <strong>Delivery Timeline:</strong>
                        <ul>
                            <li><strong>Standard Shipping:</strong> 5-7 business days within the continental US</li>
                            <li><strong>Express Shipping:</strong> 2-3 business days</li>
                            <li><strong>International Shipping:</strong> 10-15 business days (depending on customs)</li>
                        </ul>
                    </div>

                    <p><strong>Important Notes:</strong></p>
                    <ul>
                        <li>Orders are processed within 1-2 business days</li>
                        <li>Tracking information will be sent via email once your order ships</li>
                        <li>Delivery times may vary during peak seasons or holidays</li>
                        <li>Additional customs fees may apply for international orders</li>
                        <li>We are not responsible for delays caused by shipping carriers or customs</li>
                    </ul>
                </div>

                <!-- Returns & Refunds -->
                <div class="terms-category">
                    <h3>Returns & Refunds</h3>
                    <p>We want you to love your purchase. If you're not completely satisfied, we're here to help.</p>

                    <div class="terms-highlight">
                        <strong>Return Policy:</strong>
                        <ul>
                            <li>30-day return window from delivery date</li>
                            <li>Items must be unworn, unwashed, and in original condition</li>
                            <li>Original tags and packaging must be intact</li>
                        </ul>
                    </div>

                    <p><strong>Refund Process:</strong></p>
                    <ul>
                        <li>Contact our support team to initiate a return</li>
                        <li>Return shipping costs are the responsibility of the customer</li>
                        <li>Refunds will be processed within 5-7 business days of receiving returned items</li>
                        <li>Original shipping fees are non-refundable</li>
                        <li>Exchanges are available for different sizes or colors</li>
                    </ul>
                </div>

                <!-- Product Quality & Authenticity -->
                <div class="terms-category">
                    <h3>Product Quality & Authenticity</h3>
                    <p>All BRKN products are guaranteed authentic and meet our high-quality standards.</p>

                    <ul>
                        <li>Every product is carefully inspected before shipping</li>
                        <li>Limited edition items are individually numbered and certified</li>
                        <li>We guarantee authentic BRKN merchandise only</li>
                        <li>Defective items will be replaced or refunded at no additional cost</li>
                        <li>Contact us within 7 days of receiving damaged or defective products</li>
                    </ul>
                </div>

                <!-- Order Processing & Cancellation -->
                <div class="terms-category">
                    <h3>Order Processing & Cancellation</h3>
                    <p>Understanding our order fulfillment process.</p>

                    <div class="terms-grid">
                        <div>
                            <p><strong>Order Confirmation:</strong></p>
                            <ul>
                                <li>Email confirmation sent immediately after purchase</li>
                                <li>Order details and receipt included</li>
                                <li>Check spam folder if not received</li>
                            </ul>
                        </div>
                        <div>
                            <p><strong>Cancellation Policy:</strong></p>
                            <ul>
                                <li>Orders can be cancelled within 2 hours of placement</li>
                                <li>Contact support immediately to cancel</li>
                                <li>Once shipped, cancellation is not possible</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Payment & Security -->
                <div class="terms-category">
                    <h3>Payment & Security</h3>
                    <p>Your payment information is secure and protected.</p>

                    <ul>
                        <li>We accept major credit cards, debit cards, UPI, and PayPal</li>
                        <li>All transactions are encrypted using SSL technology</li>
                        <li>We do not store your complete card details</li>
                        <li>Payment is processed at the time of order placement</li>
                        <li>Prices are listed in INR (‚Çπ) and include applicable GST</li>
                    </ul>
                </div>

                <!-- Damaged or Lost Packages -->
                <div class="terms-category">
                    <h3>Damaged or Lost Packages</h3>
                    <p>We take responsibility for your order until it reaches you safely.</p>

                    <div class="terms-highlight">
                        <strong>If Your Package Arrives Damaged:</strong>
                        <ul>
                            <li>Take photos of the damaged packaging and product</li>
                            <li>Contact us within 48 hours of delivery</li>
                            <li>We will send a replacement or issue a full refund</li>
                        </ul>
                    </div>

                    <p><strong>Lost Packages:</strong></p>
                    <ul>
                        <li>If tracking shows delivered but you didn't receive it, contact us within 7 days</li>
                        <li>We will investigate with the shipping carrier</li>
                        <li>A replacement or refund will be issued if package is confirmed lost</li>
                        <li>Please ensure your shipping address is correct at checkout</li>
                    </ul>
                </div>

                <!-- Contact & Support -->
                <div class="terms-category">
                    <h3>Customer Support</h3>
                    <p>Our team is here to assist you with any questions or concerns.</p>

                    <ul>
                        <li><strong>Email:</strong> support@brkn.com (Response within 24 hours)</li>
                        <li><strong>Phone:</strong> +1 (555) 123-4567 (Mon-Fri, 9 AM - 6 PM PST)</li>
                        <li><strong>Live Chat:</strong> Available on our website during business hours</li>
                        <li>Include your order number for faster assistance</li>
                    </ul>
                </div>

                <!-- Agreement -->
                <div class="terms-category">
                    <h3>Agreement</h3>
                    <p>By placing an order with BRKN, you agree to these terms and conditions. We reserve the right to modify these terms at any time. Continued use of our website and services constitutes acceptance of any changes.</p>

                    <p style="margin-top: 20px; opacity: 0.6; font-size: 14px;">Last Updated: December 2024</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div>¬© 2024 BRKN. All rights reserved.</div>
            <div class="footer-links">
                <a href="#products">Products</a>
                <a href="#about">About</a>
                <a href="#terms">Terms & Conditions</a>
                <a href="#contact">Contact</a>
            </div>
        </div>
    </footer>

    <script>
    // --- Configuration ---
    const API_URL = 'http://localhost:3000'; // Your backend API URL

    // --- Loader Animation ---
    window.addEventListener('load', function() {
        setTimeout(function() {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.classList.add('fade-out');
                setTimeout(() => { loader.style.display = 'none'; }, 1000);
            }
        }, 3000); // Adjust timing as needed
    });

    // --- Shopping Cart Management ---
    class ShoppingCart {
        constructor() {
            this.items = [];
            this.CART_KEY = 'brkn_cart';
            this.loadCart();
            this.init();
        }

        init() {
            document.getElementById('cartIcon')?.addEventListener('click', () => this.openCart());
            document.getElementById('cartClose')?.addEventListener('click', () => this.closeCart());
            document.getElementById('cartOverlay')?.addEventListener('click', () => this.closeCart());
            document.getElementById('checkoutBtn')?.addEventListener('click', () => this.checkout());
            this.updateCartUI();
        }

        loadCart() {
            const saved = localStorage.getItem(this.CART_KEY);
            if (saved) {
                try {
                    this.items = JSON.parse(saved);
                } catch (e) {
                    console.error("Error parsing cart from localStorage:", e);
                    this.items = []; // Reset cart if parsing fails
                    localStorage.removeItem(this.CART_KEY);
                }
            }
        }

        saveCart() {
            localStorage.setItem(this.CART_KEY, JSON.stringify(this.items));
        }

        addItem(product) {
            if (!product || typeof product.id === 'undefined') {
                console.error("Attempted to add invalid product to cart:", product);
                return;
            }
             // Ensure product has a price, default if missing
            const productPrice = product.price ?? 8499; // Use default if price is null/undefined

            const existingItem = this.items.find(item => item.id === product.id);
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                this.items.push({
                    id: product.id,
                    name: product.name || 'Unnamed Product',
                    price: productPrice,
                    image: product.images?.[1] || product.images?.[0] || 'placeholder.jpg', // Add placeholder
                    quantity: 1
                });
            }
            this.saveCart();
            this.updateCartUI();
            this.showNotification(`${product.name || 'Product'} added to cart!`);
        }


        removeItem(productId) {
            this.items = this.items.filter(item => item.id !== productId);
            this.saveCart();
            this.updateCartUI();
        }

        updateQuantity(productId, change) {
            const itemIndex = this.items.findIndex(item => item.id === productId); // Find index
            if (itemIndex > -1) {
                this.items[itemIndex].quantity += change;
                if (this.items[itemIndex].quantity <= 0) {
                     this.items.splice(itemIndex, 1); // Remove item if quantity is 0 or less
                }
                this.saveCart();
                this.updateCartUI();
            }
        }


        getTotal() {
            return this.items.reduce((sum, item) => sum + ((item.price || 0) * item.quantity), 0);
        }

        getItemCount() {
            return this.items.reduce((sum, item) => sum + item.quantity, 0);
        }

        updateCartUI() {
            const count = this.getItemCount();
            const cartCountEl = document.getElementById('cartCount');
            if (cartCountEl) {
                cartCountEl.textContent = count;
                cartCountEl.style.display = count > 0 ? 'flex' : 'none';
            }

            const container = document.getElementById('cartItemsContainer');
            if (!container) return; // Exit if container not found

            if (this.items.length === 0) {
                container.innerHTML = `<div class="cart-empty"><div class="cart-empty-icon">üõí</div><p>Your cart is empty</p></div>`;
            } else {
                container.innerHTML = this.items.map(item => `
                    <div class="cart-item" data-item-id="${item.id}">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image" onerror="this.src='placeholder.jpg';">
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">‚Çπ${(item.price || 0).toLocaleString('en-IN')}</div>
                            <div class="cart-item-quantity">
                                <button class="quantity-btn" onclick="cart.updateQuantity('${item.id}', -1)">-</button>
                                <span class="quantity-value">${item.quantity}</span>
                                <button class="quantity-btn" onclick="cart.updateQuantity('${item.id}', 1)">+</button>
                            </div>
                            <button class="remove-item" onclick="cart.removeItem('${item.id}')">Remove</button>
                        </div>
                    </div>
                `).join('');
            }
            const cartTotalEl = document.getElementById('cartTotal');
             if (cartTotalEl) {
                cartTotalEl.textContent = `‚Çπ${this.getTotal().toLocaleString('en-IN')}`;
             }
        }


        openCart() {
            document.getElementById('cartSidebar')?.classList.add('open');
            document.getElementById('cartOverlay')?.classList.add('open');
            document.body.style.overflow = 'hidden';
        }

        closeCart() {
            document.getElementById('cartSidebar')?.classList.remove('open');
            document.getElementById('cartOverlay')?.classList.remove('open');
            document.body.style.overflow = '';
        }

        checkout() {
            if (this.items.length === 0) { alert('Your cart is empty!'); return; }
            // Simple alert for now, replace with actual checkout logic/page redirect
            alert(`Proceeding to checkout with ${this.getItemCount()} items for a total of ‚Çπ${this.getTotal().toLocaleString('en-IN')}`);
            // window.location.href = 'checkout.html'; // Example redirect
        }

        showNotification(message) {
            // ... (showNotification function remains the same) ...
             const notification = document.createElement('div');
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† notification.style.cssText = `...`; // Keep original styles
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† notification.textContent = message;
¬† ¬† ¬† ¬† ¬† ¬† ¬† ¬† document.body.appendChild(notification);
            // ... (timeouts remain the same) ...
        }
    }

    // --- Initialize cart ---
    const cart = new ShoppingCart();

    // --- Product Data Management ---
    let products = []; // Global products array
    let productSlider = null; // To hold the slider instance

    // --- Initialize on DOM load ---
    document.addEventListener('DOMContentLoaded', function() {
        loadAndRenderProducts(); // Call the main function
    });

    // --- Main Function to Load and Render ---
    async function loadAndRenderProducts() {
        showLoadingState(); // Show loading indicator
        try {
            console.log("Fetching products from backend...");
            // --- Fetch products from the backend API ---
            const response = await fetch(`${API_URL}/products`); // No auth needed for public view?

            if (!response.ok) {
                 // Throw an error with status if fetch fails
                 throw new Error(`HTTP error! status: ${response.status}`);
            }

            const fetchedProducts = await response.json();
            console.log("Products fetched:", fetchedProducts);

            // Filter only active products (assuming backend doesn't filter)
            products = fetchedProducts.filter(p => p.status === 'active');

            // Simulate loading delay for better UX (optional)
            // await new Promise(resolve => setTimeout(resolve, 500));

            if (products.length === 0) {
                console.log("No active products found.");
                showEmptyState(); // Show message if no active products
            } else {
                console.log("Rendering products...");
                renderProducts(); // Display products in HTML
                initializeProductSlider(); // Setup slider interactions
            }
        } catch (error) {
            console.error('Error loading products from API:', error);
            showErrorState(`Failed to load products: ${error.message}`); // Show error message
        }
    }

    // --- UI Update Functions ---
    function showLoadingState() {
        const slider = document.getElementById('productSlider');
        if (slider) {
            slider.innerHTML = `<div class="loading-state"><p>Loading products...</p></div>`;
        }
         const namesContainer = document.getElementById('productNames');
         if (namesContainer) namesContainer.innerHTML = ''; // Clear names
         document.querySelector('.total-slides').textContent = '00'; // Reset pagination
    }

    function renderProducts() {
        const slider = document.getElementById('productSlider');
        const namesContainer = document.getElementById('productNames');
        if (!slider || !namesContainer) {
             console.error("Slider or names container not found!"); return;
        }

        // --- Generate product slides HTML ---
        const slidesHTML = products.map((product, index) => `
            <div class="product-slide ${index === 0 ? 'active' : ''}" data-product-id="${product.id}">
                <div class="product-images">
                    <div class="product-image-left">
                        <img src="${product.images?.[0] || 'placeholder.jpg'}" alt="${product.name} view 1" loading="lazy" style="cursor: pointer;" onerror="this.src='placeholder.jpg';">
                    </div>
                    <div class="product-image-center">
                        <img src="${product.images?.[1] || 'placeholder.jpg'}" alt="${product.name} main view" loading="lazy" style="cursor: pointer;" onerror="this.src='placeholder.jpg';">
                    </div>
                    <div class="product-image-right">
                        <img src="${product.images?.[2] || 'placeholder.jpg'}" alt="${product.name} view 2" loading="lazy" style="cursor: pointer;" onerror="this.src='placeholder.jpg';">
                    </div>
                </div>
                <div class="product-info">
                     <h3 style="cursor: pointer;">${product.name || 'Product Name'}</h3>
                     ${product.description ? `<p class="product-description">${product.description}</p>` : ''}
                     ${typeof product.price === 'number' ? `<p class="product-description" style="font-weight: 600; font-size: 18px; margin-top: 10px;">‚Çπ${product.price.toLocaleString('en-IN')}</p>` : '<p class="product-description" style="font-weight: 600; font-size: 18px; margin-top: 10px;">Price not available</p>'}
                     <div style="display: flex; gap: 10px; margin-top: 15px;">
                         <button class="add-to-cart-btn" onclick="addToCartFromSlide('${product.id}')" style="flex: 1;">Add to Cart</button>
                         <button class="add-to-cart-btn" onclick="window.location.href='product.html?id=${product.id}'" style="flex: 1; background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));">View Details</button>
                     </div>
                 </div>

            </div>
        `).join('');

        // --- Generate product names HTML ---
        const namesHTML = products.map((product, index) => `
            <span class="product-name ${index === 0 ? 'active' : ''}" data-index="${index}">
                ${product.name || `Product ${index + 1}`}
            </span>
        `).join('');

        slider.innerHTML = slidesHTML;
        namesContainer.innerHTML = namesHTML;

        updatePagination(); // Update total slides count
    }


    function showEmptyState() {
        const slider = document.getElementById('productSlider');
        const namesContainer = document.getElementById('productNames');
        if (slider) {
            slider.innerHTML = `
                <div class="empty-state">
                    <h3>Coming Soon</h3>
                    <p>No products are currently available. Check back later!</p>
                    </div>`;
        }
        if (namesContainer) namesContainer.innerHTML = '';
        document.querySelector('.total-slides').textContent = '00';
    }

     function showErrorState(errorMessage) {
        const slider = document.getElementById('productSlider');
        if (slider) {
            slider.innerHTML = `
                <div class="empty-state" style="color: #ff3b30;">
                    <h3>Oops! Something went wrong.</h3>
                    <p>${errorMessage || 'Could not load products at this time.'}</p>
                    <p>Please try refreshing the page.</p>
                </div>`;
        }
         const namesContainer = document.getElementById('productNames');
         if (namesContainer) namesContainer.innerHTML = '';
         document.querySelector('.total-slides').textContent = '00';
    }

    function updatePagination() {
        const totalSlidesEl = document.querySelector('.total-slides');
        if (totalSlidesEl) {
            totalSlidesEl.textContent = products.length.toString().padStart(2, '0');
        }
        // Current slide is updated within the slider class
    }

    // --- Add to Cart Helper ---
     function addToCartFromSlide(productId) {
         // Find product by ID from the global 'products' array
         const product = products.find(p => String(p.id) === String(productId)); // Compare as strings
         if (product) {
             cart.addItem(product); // Use the cart instance

             // Visual feedback on button (assuming event target is available implicitly)
             const button = event?.target; // Use optional chaining for safety
             if (button) {
                const originalText = button.textContent;
                button.classList.add('added');
                button.textContent = 'Added!';
                setTimeout(() => {
                    button.classList.remove('added');
                    button.textContent = originalText;
                }, 1500);
             }
         } else {
             console.error("Product not found for ID:", productId);
             alert("Could not add product to cart. Please try again.");
         }
     }


    // --- Product Slider Class (Keep as is) ---
    class ProductSlider {
         constructor() {
            if (products.length === 0) return;
            // ... (rest of constructor remains the same)
            this.currentSlide = 0;
            this.slides = document.querySelectorAll('.product-slide');
            this.productNames = document.querySelectorAll('.product-name');
            this.totalSlides = this.slides.length;
            this.currentSlideEl = document.querySelector('.current-slide');
            // Ensure totalSlidesEl exists before accessing textContent
            this.totalSlidesEl = document.querySelector('.total-slides');
            if (!this.totalSlidesEl) {
                 console.error("Total slides element not found!");
            }
            this.productNamesContainer = document.getElementById('productNames');
            this.slider = document.getElementById('productSlider');
            // ... (drag/scroll variables remain the same)
            this.isDragging = false;
            this.startX = 0;
            this.currentX = 0;
            this.dragThreshold = 50;
            this.scrollTimeout = null;
            this.lastScrollTime = 0;
            this.scrollCooldown = 800;

            this.init();
        }

        init() {
            if (!this.slider || this.totalSlides === 0) return; // Exit if slider or slides missing
            
            this.updateSlide(); // Set initial slide
            this.updatePaginationDisplay(); // Update pagination numbers

            // Add event listeners (check if elements exist first)
            this.slider.addEventListener('wheel', (e) => this.handleWheel(e), { passive: false });
            this.slider.addEventListener('mousedown', (e) => this.handleDragStart(e));
            this.slider.addEventListener('mousemove', (e) => this.handleDragMove(e));
            document.addEventListener('mouseup', (e) => this.handleDragEnd(e)); // Listen on document
            this.slider.addEventListener('mouseleave', (e) => this.handleDragLeave(e)); // Handle leaving slider

            this.slider.addEventListener('touchstart', (e) => this.handleTouchStart(e), { passive: false });
            this.slider.addEventListener('touchmove', (e) => this.handleTouchMove(e), { passive: false });
            document.addEventListener('touchend', (e) => this.handleTouchEnd(e)); // Listen on document

            this.productNames.forEach((name, index) => {
                name.addEventListener('click', () => this.goToSlide(index));
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') this.prevSlide();
                if (e.key === 'ArrowRight') this.nextSlide();
            });

            this.slider.addEventListener('contextmenu', (e) => e.preventDefault());
        }

        handleWheel(e) {
            e.preventDefault();
            const currentTime = Date.now();
            if (currentTime - this.lastScrollTime < this.scrollCooldown) return;
            
            if (e.deltaY > 0) this.nextSlide();
            else if (e.deltaY < 0) this.prevSlide();
            
            this.lastScrollTime = currentTime;
        }

        handleDragStart(e) {
            if (e.target.tagName === 'BUTTON' || e.target.tagName === 'A') return; // Ignore drags starting on buttons/links
            this.isDragging = true;
            this.startX = e.clientX;
            this.slider.classList.add('dragging');
            e.preventDefault(); // Prevent text selection, etc.
        }

        handleDragMove(e) {
            if (!this.isDragging) return;
            this.currentX = e.clientX;
            // Optional: Add visual feedback during drag (e.g., slight slide movement)
        }
         
        handleDragLeave(e) {
             // If dragging and mouse leaves the slider area, treat it like drag end
             if (this.isDragging) {
                 this.handleDragEnd(e);
             }
        }

        handleDragEnd(e) {
            if (!this.isDragging) return;
            this.isDragging = false;
            this.slider.classList.remove('dragging');
            const diffX = this.currentX - this.startX;

            if (Math.abs(diffX) > this.dragThreshold) {
                if (diffX > 0) this.prevSlide();
                else this.nextSlide();
            }
            // Reset drag state
            this.startX = 0;
            this.currentX = 0;
        }

        // --- Touch handlers (similar logic to drag) ---
         handleTouchStart(e) {
            if (e.target.tagName === 'BUTTON' || e.target.tagName === 'A') return;
             if (e.touches.length === 1) { // Only handle single touch
                 this.isDragging = true;
                 this.startX = e.touches[0].clientX;
                 e.preventDefault(); // Prevent page scroll during drag
             }
         }

         handleTouchMove(e) {
             if (!this.isDragging || e.touches.length !== 1) return;
             this.currentX = e.touches[0].clientX;
             e.preventDefault(); // Prevent page scroll during drag
         }

         handleTouchEnd(e) {
             if (!this.isDragging) return;
             this.isDragging = false;
             const diffX = this.currentX - this.startX;

             if (Math.abs(diffX) > this.dragThreshold) {
                 if (diffX > 0) this.prevSlide();
                 else this.nextSlide();
             }
             this.startX = 0;
             this.currentX = 0;
         }
        // --- End Touch Handlers ---

        nextSlide() {
            this.currentSlide = (this.currentSlide + 1) % this.totalSlides;
            this.updateSlide();
        }

        prevSlide() {
            this.currentSlide = (this.currentSlide - 1 + this.totalSlides) % this.totalSlides;
            this.updateSlide();
        }

        goToSlide(index) {
             if (index >= 0 && index < this.totalSlides) {
                this.currentSlide = index;
                this.updateSlide();
             }
        }

        updateSlide() {
            if (!this.slides || this.slides.length === 0) return;

            this.slides.forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                slide.style.opacity = ''; // Reset drag opacity if any
                if (index === this.currentSlide) {
                    slide.classList.add('active');
                } else {
                    // Decide if it should be 'prev' or just hidden (translateX(100%))
                    // Simplest approach: remove active, CSS handles the rest
                    slide.style.transform = index < this.currentSlide ? 'translateX(-100%)' : 'translateX(100%)';
                    slide.style.opacity = '0'; // Ensure non-active are hidden
                }
                 // Re-apply active style explicitly
                 if (index === this.currentSlide) {
                    slide.style.transform = 'translateX(0)';
                    slide.style.opacity = '1';
                 }
            });

             // Update product names active state
             this.productNames.forEach((name, index) => {
                 name.classList.toggle('active', index === this.currentSlide);
             });

            // Update names scroller position (center active name approx)
             if (this.productNamesContainer && this.productNames[this.currentSlide]) {
                 const activeName = this.productNames[this.currentSlide];
                 const containerWidth = this.productNamesContainer.offsetWidth;
                 const nameOffsetLeft = activeName.offsetLeft;
                 const nameWidth = activeName.offsetWidth;
                 const targetScroll = nameOffsetLeft - (containerWidth / 2) + (nameWidth / 2);
                 this.productNamesContainer.style.transform = `translateX(-${targetScroll}px)`;
             }

            this.updatePaginationDisplay();
        }

        updatePaginationDisplay() {
            if (this.currentSlideEl) {
                this.currentSlideEl.textContent = (this.currentSlide + 1).toString().padStart(2, '0');
            }
             // Total slides count is updated once in renderProducts/showEmptyState
        }

        refresh() {
            // Re-query elements and reset state after products are re-rendered
             console.log("Refreshing slider...");
            this.currentSlide = 0;
            this.slides = document.querySelectorAll('.product-slide');
            this.productNames = document.querySelectorAll('.product-name');
            this.totalSlides = this.slides.length;
            
            if (this.totalSlides > 0) {
                 // Re-attach click listeners to names
                 this.productNames.forEach((name, index) => {
                     // Remove old listener first to avoid duplicates (optional but safer)
                     name.replaceWith(name.cloneNode(true)); // Simple way to remove listeners
                 });
                 // Re-query names after cloning
                 this.productNames = document.querySelectorAll('.product-name');
                 this.productNames.forEach((name, index) => {
                     name.addEventListener('click', () => this.goToSlide(index));
                 });

                this.updateSlide(); // Show the first slide
                this.updatePaginationDisplay(); // Update numbers
            } else {
                // Handle case where refresh results in no products
                 if (this.currentSlideEl) this.currentSlideEl.textContent = '00';
                 if (this.totalSlidesEl) this.totalSlidesEl.textContent = '00';
                 if (this.productNamesContainer) this.productNamesContainer.innerHTML = '';
                 // Optional: Show empty state directly? Depends if loadAndRender handles it.
            }
        }

    } // End ProductSlider Class

    // --- Initialize slider (called after products are rendered) ---
    function initializeProductSlider() {
         try {
             productSlider = new ProductSlider();
         } catch (e) {
             console.error("Failed to initialize product slider:", e);
         }
    }


    // --- Smooth Scrolling ---
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const targetId = this.getAttribute('href');
            // Check if it's just '#' or empty, navigate normally if so
             if (!targetId || targetId === '#') {
                 window.location.hash = ''; // Go to top or handle as needed
                 return;
             }
            const target = document.querySelector(targetId);
            if (target) {
                 // Calculate offset dynamically if header is fixed
                 const headerOffset = document.querySelector('.header')?.offsetHeight || 80; // Get header height or default
                 const elementPosition = target.getBoundingClientRect().top;
                 const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                window.scrollTo({
                     top: offsetPosition,
                     behavior: 'smooth'
                 });
            } else {
                 console.warn("Smooth scroll target not found:", targetId);
            }
        });
    });

    // --- Parallax Effect ---
    window.addEventListener('scroll', function() {
        const scrollY = window.scrollY;
        const heroTitle = document.querySelector('.hero-title');
        if (heroTitle) {
            // Adjust the multiplier for desired effect strength
            heroTitle.style.transform = `translateY(${scrollY * 0.2}px)`;
             // Optional: Fade out title as user scrolls down
             heroTitle.style.opacity = Math.max(0, 1 - (scrollY / 300));
        }
    });

</script>
</body>
</html>